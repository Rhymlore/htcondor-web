---
title: More secure configuration for PostgreSQL and Quill documented
og_title: More secure configuration for PostgreSQL and Quill documented
link: 
date: 2007-07-12
layout: news
---

When Quill was first developed, it was designed to work with older versions of the PostgreSQL database server.  Newer versions of PostgreSQL have stronger security features, which can be enabled in the PostgreSQL configuration, requiring no changes to the Quill daemon.  We recommend that all Quill sites upgrade to the latest version of PostgreSQL (8.2), and make these easy changes to their PostgreSQL configuration.  The consequences of not doing so mean that any user who can sniff the network between the Quill daemon and the PostgreSQL server can obtain the Quill database password, and make changes to the Quill database.  This can change the output of condor_q and condor_history, but cannot otherwise impact Condor's correctness or security.  Otherwise unauthorized users cannot use this database password to run jobs or mutate Condor's configuration.  A second problem with the previously recommended configuration was that any user with the publicly-available read-only Quill PostgreSQL password could create new tables in the database and store information there. While this does not  effect the running of Condor in any way, sites may view that as a security problem.  As of Condor 6.8.6 and 6.9.4, the Condor manual has been updated to describe the more secure installation of PostgreSQL, which remedy both of the above problems.  These changes include the following:  Change the authentication method (the final field) in the pg_hba.conf file from "password" to "md5".  Restarting PostgreSQL is then needed for this to take effect.  Only allow the quillwriter account to create tables.  To do this, run the following two SQL commands as the database owner.  REVOKE CREATE on SCHEMA public FROM PUBLIC;  GRANT CREATE on SCHEMA public to quillwriter; 
