---
title: Code Cruft
layout: wiki-page
---
<div id="content">
 As you encounter items in the code that could perhaps be purged, list em here.
 <p>
 </p>
 <ul>
  <li>
   <span class="ticket">
    <a class="resolved" href="tktview?tn=1211" title="Function strcmp_until() is unused and should be removed.">
     #1211
    </a>
   </span>
   ,
   <span class="ticket">
    <a class="resolved" href="tktview?tn=1212" title="Function ltrunc() is unused and should be removed.">
     #1212
    </a>
   </span>
  </li>
  <li>
   any backwards compatibility code that predates  v6.8 or so (grep for version object usage?) (
   <span class="ticket">
    <a class="new" href="tktview?tn=953" title="Purge backwards compatibility code that predates 7.0">
     #953
    </a>
   </span>
   ,
   <span class="ticket">
    <a class="resolved" href="tktview?tn=1226" title="Remove compatibility checks that predate version 6.8">
     #1226
    </a>
   </span>
   )
  </li>
  <li>
   any compatibility with CRUFT in its name, e.g. VM_CRUFT (
   <span class="ticket">
    <a class="resolved" href="tktview?tn=62" title="Deprecate ALLOW_VM_CRUFT">
     #62
    </a>
   </span>
   )
  </li>
  <li>
   any remaining pvm code (exists in submit, schedd, shadow, starter, startd)
  </li>
  <li>
   dead code surrounded by "#if 0", it can be removed in commits that'd be easy to find again
  </li>
  <li>
   code for platforms that are no longer supported, e.g DUX, ULTRIX, etc
  </li>
  <li>
   code that will be used soon, circa 2005, e.g. src/condor_dagman/node_scheduler/
  </li>
  <li>
   stork, now that it has an upstream of its own
  </li>
  <li>
   src/packaging/, which should live at the distro's upstream AND is very out of date
  </li>
  <li>
   any quill code related to oracle, which only ever worked once for a student
  </li>
  <li>
   quill &amp; tt, after it is transitioned to be a plugin contrib
  </li>
  <li>
   BIOTECH=TRUE, baby!
  </li>
  <li>
   The src/h directory
  </li>
  <li>
   struct proc and friends
  </li>
  <li>
   condor_c++_util/classadlogparser.cpp #define's free to avoid segfaults
  </li>
  <li>
   #undef open before inclusion of classad_distribution.h
  </li>
  <li>
   START_owner
  </li>
  <li>
   merge show_queue and show_queue_buffered in queue.cpp
  </li>
  <li>
   soap_core.cpp uses subsys + "_PARAM" style
  </li>
  <li>
   turn calls to sigprocmask into condor_sigmask and update condor_macros.h
  </li>
  <li>
   startd is sleep()y (
   <span class="ticket">
    <a class="new" href="tktview?tn=837" title="condor_startd is sleep()y">
     #837
    </a>
   </span>
   )
  </li>
  <li>
   -1 is a common tid representing "no timer", it is checked with != -1 and &gt;= 0. tid should be a type.
  </li>
  <li>
   some code does "if (daemonCore)", suggests the code might be executing after the global daemonCore object is deleted, or before it is constructed, which should not happen
  </li>
 </ul>
 <p>
  <span class="section">
  </span>
 </p>
 <h2>
  Done
 </h2>
 <ul>
  <li>
   grid universe mirror jobs
  </li>
 </ul>
</div>
